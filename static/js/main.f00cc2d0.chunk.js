(this["webpackJsonpVamsi Printers Internal Tools"]=this["webpackJsonpVamsi Printers Internal Tools"]||[]).push([[0],{189:function(e,t,a){e.exports=a(360)},355:function(e,t,a){},360:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(168),o=a.n(l),i=a(11),c=a(27),s={defaultWidth:1280,breakpoints:{sm:[{type:"max-width",value:576}],md:[{type:"max-width",value:768}],lg:[{type:"max-width",value:992}]},color:{dark:"#04080C",darkL1:"#0E1317",darkL2:"#191E22",grey:"#6F839F",greyD1:"#637897",greyD2:"#586D8E",light:"#F7FBFF",lightD1:"#EDF2F6",lightD2:"#E4E8EC",green:"#00875A",primary:"#0077CC",secondary:"#FFC400",orange:"#FF7C22",red:"#DE350B",purple:"#FD6DF9",indigo:"#9B6CFC"},fontFamily:{sans:"-apple-system, system-ui, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",sansHeavy:"Impact, Haettenschweiler, 'Franklin Gothic Bold', Charcoal, 'Helvetica Inserat', 'Bitstream Vera Sans Bold', 'Arial Black', sans-serif",sansHelvetica:"Frutiger, 'Frutiger Linotype', Univers, Calibri, 'Gill Sans', 'Gill Sans MT', 'Myriad Pro', Myriad, 'DejaVu Sans Condensed', 'Liberation Sans', 'Nimbus Sans L', Tahoma, Geneva, 'Helvetica Neue', Helvetica, Arial, sans-serif",sansVerdana:"Corbel, 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', 'Bitstream Vera Sans', 'Liberation Sans', Verdana, 'Verdana Ref', sans-serif",sansTrebuchet:"'Segoe UI', Candara, 'Bitstream Vera Sans', 'DejaVu Sans', 'Trebuchet MS', Verdana, 'Verdana Ref', sans-serif",mono:"Consolas, 'Andale Mono WT', 'Andale Mono', 'Lucida Console', 'Lucida Sans Typewriter', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Liberation Mono', 'Nimbus Mono L', Monaco, 'Courier New', Courier, monospace",serifTimes:"Cambria, 'Hoefler Text', Utopia, 'Liberation Serif', 'Nimbus Roman No9 L Regular', Times, 'Times New Roman', serif",serifGeorgia:"Constantia, 'Lucida Bright', Lucidabright, 'Lucida Serif', Lucida, 'DejaVu Serif', 'Bitstream Vera Serif', 'Liberation Serif', Georgia, serif",serifGaramond:"'Palatino Linotype', Palatino, Palladio, 'URW Palladio L', 'Book Antiqua', Baskerville, 'Bookman Old Style', 'Bitstream Charter', 'Nimbus Roman No9 L', Garamond, 'Apple Garamond', 'ITC Garamond Narrow', 'New Century Schoolbook', 'Century Schoolbook', 'Century Schoolbook L', Georgia, serif"},font:{headline1:"normal 900 72px/1.2 --fontFamily-sans",headline2:"normal 900 42px/1.2 --fontFamily-sans",headline3:"normal 500 28px/1.2 --fontFamily-sans",base:"normal 300 16px/1.5 --fontFamily-sans",lead:"normal 300 20px/1.5 --fontFamily-sans"},boxShadow:{m:"0 4px 5px -1px rgba(0, 0, 0, 0.1)",l:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",xxl:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},background:{primaryGradient:"linear-gradient(180deg, --color-primary, transparent) no-repeat 0 0",secondaryGradient:"linear-gradient(180deg, --color-secondary, transparent) no-repeat 0 0"},transform:{rotate90:"rotate(90deg)",rotate180:"rotate(180deg)",flipX:"scaleX(-1)",flipY:"scaleY(-1)"},transition:{opacityOut:"opacity --transitionDuration-normal --transitionTimingFunction-easeOut",transformOut:"transform --transitionDuration-normal --transitionTimingFunction-easeOut",transformInOut:"transform --transitionDuration-normal --transitionTimingFunction-easeInOut"},transitionTimingFunction:{easeIn:"cubic-bezier(0.4, 0, 1, 1)",easeOut:"cubic-bezier(0, 0, 0.2, 1)",easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},transitionDuration:{fastest:"0.1s",fast:"0.2s",normal:"0.3s"},filter:{grayscale:"grayscale(100%)",invert:"invert(100%)",blur:"blur(10px)"},animation:{},keyframes:{fadeIn:[{key:"from",props:[{opacity:0}]},{key:"to",props:[{opacity:1}]}],fadeOut:[{key:"from",props:[{opacity:1}]},{key:"to",props:[{opacity:0}]}]},components:{section:{maxWidth:{default:"1280px"},minWidth:{default:"300px"},width:{default:"90%"}},stack:{gap:{default:"32px",small:"16px"}}},version:1},d=a(372),p=a(370),m=a(43),u=a(65),g=a(364),x=a(365),h=a(7),b=a(60),f=a(32);const E={404:{},index:{},login:{},"orders-customers":{}},y=f.b`
    body {
        ${e=>{let{styles:t}=e;return Object.entries(t||{}).map(e=>{let[t,a]=e;return`${t}: ${Object(b.b)(t,a)};`})}}
    }
`,w=e=>{let{pageUrl:t}=e;return n.a.createElement(y,{styles:E[t]})};var k=a(363),v=a(371),O=a(4);function j(){const[e,t]=Object(r.useState)(""),[a,l]=Object(r.useState)(""),[o,c]=Object(r.useState)(""),b=Object(i.k)();return n.a.createElement(d.a,{theme:s},n.a.createElement(w,{pageUrl:"index"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Login"),n.a.createElement("link",{rel:"shortcut icon",href:"https://live.staticflickr.com/65535/54572815698_9a48e198df_b.jpg",type:"image/x-icon"})),n.a.createElement(p.a,{height:"auto",background:"--color-light",padding:"0 0 0px 0"},n.a.createElement(p.a,{padding:"80px 0","sm-padding":"40px 0"},n.a.createElement(k.a,{slot:"SectionContent","align-items":"center"}),n.a.createElement(m.c,{as:"h2",font:"--headline1","md-font":"--headline2",margin:"20px 0 0 0"},"Vamsi Printers Internal Tools"),n.a.createElement(m.c,{as:"p",font:"--lead",margin:"0px 0 0px 0","text-align":"center"},"Manager Login"))),n.a.createElement(p.a,{background:"--color-light",color:"--dark",padding:"0px 0 64px 0","text-align":"left"},n.a.createElement(k.a,{slot:"SectionContent","align-self":"auto",display:"flex","align-items":"center"}),n.a.createElement(u.a,{margin:"16px 16px 16px 16px",display:"inline-block","flex-wrap":"wrap",overflow:"visible","align-content":"space-around","align-items":"center","flex-direction":"row","justify-content":"center","align-self":"center","text-align":"left"},n.a.createElement(u.a,{width:"100%",padding:"8px 8px 8px 8px","lg-width":"100%"},n.a.createElement(u.a,null,n.a.createElement(u.a,{gap:"16px",display:"grid","flex-direction":"row","flex-wrap":"wrap","grid-gap":"16px"},o&&n.a.createElement(m.c,{color:"red","text-align":"center"},o),n.a.createElement(u.a,{"sm-width":"100%",display:"flex","flex-direction":"column",width:"100%","min-width":"100%"},n.a.createElement(m.c,{font:"--base",margin:"0 0 4px 0"},"Email"),n.a.createElement(g.a,{width:"312px",type:"email",value:e,onChange:e=>t(e.target.value),"border-radius":"7.5px"})),n.a.createElement("br",null),n.a.createElement(u.a,{"sm-width":"100%",display:"flex","flex-direction":"column"},n.a.createElement(m.c,{font:"--base",margin:"0 0 4px 0"},"Password"),n.a.createElement(g.a,{width:"100%",type:"password",value:a,onChange:e=>l(e.target.value),"border-radius":"7.5px"})),n.a.createElement(u.a,{display:"flex","flex-direction":"column","align-items":"flex-start","grid-column":"1 / span 2"},n.a.createElement(x.a,{onClick:()=>{const t=Object(O.c)(),r=Object(O.h)(t,"vamsi/users");Object(O.d)(r,t=>{const r=t.val();let n=!1;for(const l in r){const t=r[l];t.email===e&&t.password===a&&(n=!0,sessionStorage.setItem("role",t.role),"manager"!==t.role&&"sudo"!==t.role||b.push("/orders"))}n||c("Invalid email or password")})},"border-radius":"7.5px"},"Login"))))))),n.a.createElement(v.a,null,n.a.createElement("style",{place:"endOfHead",rawKey:"66f6d1359710450018a331b3"},":root {\n  box-sizing: border-box;\n}\n\n* {\n  box-sizing: inherit;\n}")))}var C=a(366),S=a(367),P=a(6),D=a(185),F=a(18);function U(e){return Array.from(e).map(e=>String.fromCharCode(e.charCodeAt(0)-1)).join("")}const L={apiKey:U("BJ{bTzCojnx`woWCerUe9PsvpyU3VIXyI.dj5Od"),authDomain:U("hvoepkvt.qspe/gjsfcbtfbqq/dpn"),databaseURL:U("iuuqt;00hvoepkvt.qspe.efgbvmu.suec/btjb.tpvuifbtu2/gjsfcbtfebubcbtf/bqq"),projectId:U("hvoepkvt.qspe"),storageBucket:U("hvoepkvt.qspe/bqqtqpu/dpn"),messagingSenderId:U(":43279::131:"),appId:U("2;:43279::131:;xfc;25geg8c4ef97cd987gdb11")},A=Object(D.a)(L),I=Object(F.c)(A),_=Object(O.c)(A),R=async e=>{const t=Object(F.d)(I,"vamsi/images/"+e.name);return await Object(F.e)(t,e),Object(F.b)(t)},N=async e=>{const t=`audio_${(new Date).getTime()}.wav`,a=Object(F.d)(I,"vamsi/audio/"+t);return await Object(F.e)(a,e),Object(F.b)(a)},M=async(e,t,a,r,n)=>{const l=Object(O.c)(),o=Object(O.h)(l,"vamsi/customers/"+e);await Object(O.j)(o,{name:t,countryCode:a,phone:r,measurements:n}),alert("Customer added successfully")},q=async(e,t)=>{const a=Object(O.h)(_,"vamsi/orders/"+e);Object(O.d)(a,e=>{const a=e.val();t(a)})},T=async e=>{const t=Object(O.h)(_,"vamsi/orders"),a=Object(O.g)(t,Object(O.e)("deadline_raw"),Object(O.a)(e)),r=await Object(O.b)(a),n=[];return r.exists()&&r.forEach(e=>{n.push({id:e.key,...e.val()})}),n},z=async e=>{const t=Object(F.c)(),a=Object(F.d)(t,e);await Object(F.a)(a)},G=[{title:"Calendar",role:"manager",path:"/calendar"},{title:"Orders",role:"manager",path:"/orders"},{title:"Add Users",role:"sudo",path:"/sudo/users/add"},{title:"View Customers",role:"manager",path:"/customers/view"}],B=e=>{let{role:t,current:a}=e;const r=Object(i.k)(),l=G.filter(e=>e.role===t||"sudo"===t).map(e=>e.title!==a?n.a.createElement(m.c,{key:e.path,onClick:()=>r.push(e.path),cursor:"pointer",margin:"0 10px",font:"--lead",padding:"10px","border-radius":"5px",transition:"background-color 0.3s","hover-background":"--color-light","hover-color":"--primary"},e.title):null).filter(Boolean);return l.length>0?n.a.createElement(u.a,{display:"flex","justify-content":"space-around","align-items":"center",padding:"20px",background:"--color-lightD2"},l):null},$=async e=>{try{await(async e=>{const t=Object(O.h)(_,"vamsi/orders/"+e);await Object(O.i)(t)})(e),window.location.reload()}catch(t){console.error("Error deleting order: ",t),alert("Failed to delete the order. Please try again.")}};var V=()=>{const[e,t]=Object(r.useState)([]),[a,l]=Object(r.useState)(""),[o,c]=Object(r.useState)({"Pre-press":!0,Press:!0,"Post-press":!0,Delivered:!0,"Payment Pending":!0,"Payment Received":!0}),x=Object(i.k)();Object(r.useEffect)(()=>{(e=>{const t=Object(O.c)(),a=Object(O.h)(t,"vamsi/orders");Object(O.d)(a,t=>{const a=t.val();if(a){const t=Object.keys(a).map(e=>({uuid:e,...a[e]}));t.sort((e,t)=>{const a=new Date(`${e.orderCreationDate} ${e.orderCreationTime}`);return new Date(`${t.orderCreationDate} ${t.orderCreationTime}`)-a}),e(t)}})})(t)},[]);const b=e=>String(e).replace(/\D/g,""),f=e.filter(e=>{if(!o[e.progress])return!1;try{const t=String(e.customer_name||"").toLowerCase().trim(),r=String(a||"").toLowerCase().trim(),n=t.includes(r),l=String(e.phone_number||e.phone||""),o=b(l),i=b(r);let c=!1;return""!==i&&(c=o.includes(i)),n||c}catch(t){return console.error("Error filtering orders:",t),!1}}),E=e=>{switch(e){case"Pre-press":return"#ff4d4d";case"Press":return"#ff7518";case"Post-press":return"#ffaa00";case"Delivered":return"#ffd700";case"Payment Pending":return"#c0c000";case"Payment Received":return"#31a931";default:return"#ff0000"}};return n.a.createElement(d.a,{theme:s},n.a.createElement(w,{pageUrl:"orders-managers"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Orders Manager"),n.a.createElement("link",{rel:"shortcut icon",href:"https://live.staticflickr.com/65535/54572815698_9a48e198df_b.jpg",type:"image/x-icon"})),n.a.createElement(B,{role:sessionStorage.getItem("role"),current:"Orders"}),n.a.createElement(p.a,{padding:"90px 0 100px 0","quarkly-title":"Orders-Manager"},n.a.createElement(m.c,{margin:"0px 0px 20px 0px","text-align":"center",font:"normal 500 56px/1.2 --fontFamily-serifGeorgia",color:"--dark","sm-margin":"0px 0px 30px 0px"},"Orders"),n.a.createElement(C.a,{category:"md",icon:P.d,onClick:()=>{x.push("/orders/add")},size:"32px","align-self":"flex-end",margin:"16px 0px 16px 0px",style:{cursor:"pointer"}}),n.a.createElement(u.a,{display:"flex","flex-direction":"column","align-items":"center",margin:"0px 0px 20px 0px"},n.a.createElement(u.a,{display:"flex","justify-content":"center","align-items":"center",width:"100%"},n.a.createElement(g.a,{type:"text",placeholder:"Search by customer name or phone number",value:a,onChange:e=>l(e.target.value),width:"50%",padding:"8px 12px",border:"1px solid #ccc","border-radius":"4px","margin-right":"10px"})),n.a.createElement(u.a,{display:"flex","justify-content":"center","align-items":"center",margin:"10px 0px 0px 0px"},["Pre-press","Press","Post-press","Delivered","Payment Pending","Payment Received"].map(e=>n.a.createElement(u.a,{key:e,display:"flex","align-items":"center",margin:"0px 15px"},n.a.createElement("input",{type:"checkbox",id:"filter-"+e,checked:o[e],onChange:()=>(e=>{c(t=>({...t,[e]:!t[e]}))})(e),style:{marginRight:"6px"}}),n.a.createElement("label",{htmlFor:"filter-"+e},n.a.createElement(m.c,{font:"--lead",color:"--dark"},e)))))),n.a.createElement(u.a,{"min-width":"1200px",overflow:"auto",margin:"0 auto",padding:"0 10px"},n.a.createElement(u.a,{display:"flex","justify-content":"space-between","align-items":"center",padding:"10px","border-width":"0 0 2px 0","border-style":"solid","border-color":"#d1d7de",margin:"0px 0px 10px 0px"},n.a.createElement(m.c,{width:"5%","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(S.a,null,"S. No.")),n.a.createElement(m.c,{width:"20%","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(S.a,null,"Order Time")),n.a.createElement(m.c,{width:"25%","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(S.a,null,"Customer Name")),n.a.createElement(m.c,{width:"15%","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(S.a,null,"Status")),n.a.createElement(m.c,{width:"10%","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(S.a,null,"Pieces")),n.a.createElement(m.c,{width:"20%","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(S.a,null,"Deadline")),n.a.createElement(m.c,{width:"5%","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(S.a,null,"Edit")),n.a.createElement(m.c,{width:"5%","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(S.a,null,"Delete"))),f.length>0?n.a.createElement(u.a,null,f.map((e,t)=>{var a;return n.a.createElement(u.a,{key:e.uuid,display:"flex","justify-content":"space-between","align-items":"center",padding:"10px","border-width":"0 0 1px 0","border-style":"solid","border-color":"#d1d7de",background:"#ffffff",margin:"0px 0px 10px 0px"},n.a.createElement(m.c,{width:"5%","text-align":"center",font:"normal 400 16px/1.5 -apple-system, system-ui, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",color:"--dark"},t+1),n.a.createElement(m.c,{width:"20%","text-align":"center",font:"normal 400 16px/1.5 -apple-system, system-ui, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",color:"--dark"},e.orderCreationDate," / ",e.orderCreationTime),n.a.createElement(m.c,{width:"25%","text-align":"center",font:"normal 500 28px/1.2 --fontFamily-serifGeorgia",color:"--dark"},e.customer_name),n.a.createElement(m.c,{width:"15%","text-align":"center",font:"normal 400 16px/1.5 -apple-system, system-ui, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",color:E(e.progress)},n.a.createElement(S.a,null,e.progress)),n.a.createElement(m.c,{width:"10%","text-align":"center",font:"normal 400 16px/1.5 -apple-system, system-ui, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",color:"--dark"},(null===(a=e.pieces)||void 0===a?void 0:a.number_of_pieces)||"N/A"),n.a.createElement(m.c,{width:"20%","text-align":"center",font:"normal 400 16px/1.5 -apple-system, system-ui, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",color:"--dark"},e.deadline_formatted||"N/A"),n.a.createElement(u.a,{width:"5%",display:"flex","justify-content":"center","align-items":"center"},n.a.createElement(C.a,{category:"md",icon:P.b,size:"32px",margin:"0px",onClick:()=>{return t=e.uuid,void x.push("/orders/edit?uuid="+t);var t},style:{cursor:"pointer"}})),n.a.createElement(u.a,{width:"5%",display:"flex","justify-content":"center","align-items":"center"},n.a.createElement(C.a,{category:"md",icon:P.c,size:"32px",margin:"0px",onClick:()=>{return t=e.uuid,void(window.confirm("Are you sure you want to delete this order?")&&$(t));var t},style:{cursor:"pointer"}})))})):n.a.createElement(m.c,null,"No orders available"))))},H=a(368),W=a(369);const Y=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let a=0;a<7;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t};function J(){const[e,t]=Object(r.useState)(""),[a,l]=Object(r.useState)("+91"),[o,c]=Object(r.useState)(""),[b,f]=Object(r.useState)([]),[E,y]=Object(r.useState)([]),[k,v]=Object(r.useState)(""),[j,S]=Object(r.useState)(new Date),[D,F]=Object(r.useState)([]),[U,L]=Object(r.useState)([]),[A,I]=Object(r.useState)(!1),q=Object(i.k)();Object(r.useEffect)(()=>{const e=Object(O.c)(),t=Object(O.h)(e,"vamsi/customers");Object(O.d)(t,e=>{const t=e.val()||{},a=Object.keys(t).map(e=>({uuid:e,name:t[e].name,phone:t[e].phone||t[e].phone_number,countryCode:t[e].countryCode}));F(a)})},[]),Object(r.useEffect)(()=>{if(e.trim()){const t=e.toLowerCase(),a=D.filter(e=>e.name.toLowerCase().includes(t));L(a),console.log(a),I(a.length>0)}else I(!1)},[e,D]);const T=e=>{let{handleFile:t}=e;const a=Object(r.useRef)(null);return n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,{className:"button-upload",onClick:()=>{a.current.click()},margin:"20px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px"},"Upload Images"),n.a.createElement("input",{type:"file",onChange:e=>{const a=Array.from(e.target.files);t(a)},ref:a,style:{display:"none"},multiple:!0,accept:"image/*"}))},z=e=>{let{handleAudioUpload:t,handleDeleteAudio:a,audioLink:l}=e;const[o,i]=Object(r.useState)(!1),c=Object(r.useRef)(null),s=Object(r.useRef)([]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,{margin:"20px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px",onClick:o?()=>{c.current&&(c.current.stop(),i(!1))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),a=new MediaRecorder(e);c.current=a,a.ondataavailable=e=>{s.current.push(e.data)},a.onstop=async()=>{const e=new Blob(s.current,{type:"audio/wav"});await t(e);s.current=[]},a.start(),i(!0)}catch(e){console.error("Error accessing microphone:",e),alert("Error accessing microphone")}}},o?"Stop Recording":"Record Audio"),l&&n.a.createElement(u.a,{display:"flex","align-items":"center"},n.a.createElement("audio",{controls:!0},n.a.createElement("source",{src:l,type:"audio/wav"}),"Your browser does not support the audio element."),n.a.createElement(C.a,{category:"md",icon:P.c,size:"24px",color:"#ff0000",margin:"0 0 0 10px",onClick:a,style:{cursor:"pointer"},"aria-label":"Delete Audio"})))},G=E.reduce((e,t)=>e+t.quantity,0);return n.a.createElement(d.a,{theme:s},n.a.createElement(w,{pageUrl:"orders-customers"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Add Order"),n.a.createElement("link",{rel:"shortcut icon",href:"https://live.staticflickr.com/65535/54572815698_9a48e198df_b.jpg",type:"image/x-icon"})),n.a.createElement(p.a,{padding:"90px 0 100px 0"},n.a.createElement(u.a,{position:"relative","text-align":"center"},n.a.createElement(C.a,{icon:P.a,onClick:()=>q.push("/orders"),style:{position:"absolute",left:0,cursor:"pointer"}}),n.a.createElement(m.c,{font:"56px"},"New Order")),n.a.createElement(m.c,null,"Customer Name"),n.a.createElement(u.a,{position:"relative",width:"50%"},n.a.createElement(g.a,{value:e,onChange:e=>t(e.target.value),onFocus:()=>I(U.length>0)}),A&&n.a.createElement(u.a,{position:"absolute",top:"100%",width:"100%",background:"white",border:"1px solid #ccc","z-index":10,"max-height":"150px",overflow:"auto"},U.map(e=>n.a.createElement(u.a,{key:e.uuid,padding:"8px","hover-background":"#f0f0f0",onClick:()=>{return a=e,console.log(a),t(a.name),c(a.phone),l(a.countryCode),void I(!1);var a},style:{cursor:"pointer"}},e.name)))),n.a.createElement(m.c,null,"Phone Number"),n.a.createElement(u.a,{display:"flex"},n.a.createElement(g.a,{value:a,onChange:e=>l(e.target.value),width:"10%"}),n.a.createElement(g.a,{value:o,onChange:e=>c(e.target.value),width:"40%"})),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Upload Images"),n.a.createElement(T,{handleFile:async e=>{try{const t=await Promise.all(e.map(e=>R(e)));f(e=>[...e,...t])}catch(t){console.error("Error uploading files:",t),alert("Failed to upload images. Please try again.")}}}),0===b.length?null:n.a.createElement(u.a,{display:"grid","grid-template-columns":`repeat(${Math.min(b.length,4)}, 225px)`,"grid-auto-rows":"225px","grid-gap":"15px",width:225*Math.min(b.length,4)+15*(Math.min(b.length,4)-1)+"px",overflow:"auto",padding:"15px",border:"1px solid #ccc",margin:"15px 0"},b.map((e,t)=>n.a.createElement(u.a,{key:t,as:"div",position:"relative"},n.a.createElement(u.a,{as:"img",src:e instanceof File?URL.createObjectURL(e):e,width:"225px",height:"225px","object-fit":"cover","border-radius":"5px"}),n.a.createElement(C.a,{category:"md",icon:P.c,size:"24px",color:"#ff0000",position:"absolute",top:"5px",right:"5px",onClick:()=>(e=>{const t=b.filter((t,a)=>a!==e);f(t)})(t),style:{cursor:"pointer",backgroundColor:"rgba(255,255,255,0.7)",borderRadius:"50%"},"aria-label":"Delete image "+(t+1)})))),n.a.createElement(H.a,{"min-height":"10px","min-width":"100%",margin:"15px 0px 15px 0px","border-color":"--color-darkL2",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Record Audio"),n.a.createElement(z,{handleAudioUpload:async e=>{try{const t=await N(e);return v(t),t}catch(t){return console.error("Error uploading audio:",t),alert("Failed to upload audio. Please try again."),""}},handleDeleteAudio:()=>{v("")},audioLink:k}),n.a.createElement(u.a,{display:"flex","align-items":"center","justify-content":"space-between"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Add Items"),n.a.createElement(C.a,{category:"md",icon:P.d,size:"32px",margin:"16px 0px 16px 0px",onClick:()=>{y([...E,{type:"Digital Printing",quantity:1,remarks:""}])},style:{cursor:"pointer"},"aria-label":"Add Piece"})),E.length>0&&n.a.createElement(n.a.Fragment,null,E.map((e,t)=>n.a.createElement(u.a,{key:t,display:"flex","align-items":"center",margin:"10px 0"},n.a.createElement(m.c,{width:"5%",textAlign:"center"},t+1),n.a.createElement(W.a,{value:e.type,onChange:e=>((e,t)=>{const a=E.map((a,r)=>r===e?{...a,type:t}:a);y(a)})(t,e.target.value),background:"white",width:"20%",padding:"5px",fontSize:"16px",margin:"0 10px"},n.a.createElement("option",{value:"Digital Printing"},"Digital Printing"),n.a.createElement("option",{value:"Offset Printing"},"Offset Printing"),n.a.createElement("option",{value:"Packaging"},"Packaging"),n.a.createElement("option",{value:"Others"},"Others")),n.a.createElement(g.a,{type:"number",value:e.quantity,onChange:e=>((e,t)=>{const a=E.map((a,r)=>r===e?{...a,quantity:Number(t)}:a);y(a)})(t,e.target.value),width:"20%",min:"1",background:"white",padding:"5px",margin:"0 10px"}),n.a.createElement(g.a,{type:"text",placeholder:"Remarks",value:e.remarks,onChange:e=>((e,t)=>{const a=E.map((a,r)=>r===e?{...a,remarks:t}:a);y(a)})(t,e.target.value),width:"40%",background:"white",padding:"5px",margin:"0 10px"}),n.a.createElement(C.a,{category:"md",icon:P.c,size:"24px",color:"#ff0000",onClick:()=>(e=>{y(E.filter((t,a)=>a!==e))})(t),style:{cursor:"pointer"},"aria-label":"Delete piece "+(t+1)}))),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Total Number of Items: ",G)),n.a.createElement(H.a,{"min-height":"10px","min-width":"100%",margin:"15px 0px 15px 0px","border-color":"--color-darkL2",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Deadline"),n.a.createElement(g.a,{type:"date",value:j.toISOString().split("T")[0],onChange:e=>{S(new Date(e.target.value))},width:"40%",background:"white",padding:"5px",margin:"0 10px",required:!0}),n.a.createElement(H.a,{"min-height":"10px","min-width":"100%",margin:"15px 0px 15px 0px","border-color":"--color-darkL2",width:"1200px"}),n.a.createElement(x.a,{onClick:async()=>{const t=new Date,r=Y(),n={customer_name:e,phone_number:`${a}${o}`,images:b,pieces:{number_of_pieces:E.reduce((e,t)=>e+t.quantity,0),details:E},audio_link:k,orderCreationTime:t.toLocaleTimeString("en-US",{hour12:!0}),orderCreationDate:t.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),progress:"Pre-press",uuid:r,deadline_raw:j.toISOString().split("T")[0],deadline_formatted:j.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})};await(async(e,t)=>{const a=Object(O.h)(_,"vamsi/orders/"+t);await Object(O.j)(a,e)})(n,r);if(!D.find(t=>t.name===e&&t.phone===o&&t.countryCode===a)){const t=Y();await M(t,e,a,o,[])}q.push("/orders")},margin:"40px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px"},"Submit Order")))}const K=e=>{let{handleFile:t}=e;const a=Object(r.useRef)(null);return n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,{className:"button-upload",onClick:()=>{a.current.click()},margin:"20px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px"},"Upload Images"),n.a.createElement("input",{type:"file",onChange:e=>{const a=Array.from(e.target.files);t(a)},ref:a,style:{display:"none"},multiple:!0,accept:"image/*"}))};var X=()=>{const e=Object(i.k)(),t=new URLSearchParams(Object(i.l)().search).get("uuid"),[a,l]=Object(r.useState)(null),[o,c]=Object(r.useState)([]),[b,f]=Object(r.useState)(""),[E,y]=Object(r.useState)(!0),[k,v]=Object(r.useState)(null),[j,S]=Object(r.useState)([]),[D,U]=Object(r.useState)(null),[L,A]=Object(r.useState)(!1),[I,M]=Object(r.useState)(""),[T,G]=Object(r.useState)("");Object(r.useEffect)(()=>{(async()=>{try{t?q(t,e=>{var t;e?(l(e),c((null===e||void 0===e||null===(t=e.pieces)||void 0===t?void 0:t.details)||[]),f((null===e||void 0===e?void 0:e.progress)||"Pre-press"),S(e.images||[]),U(e.audio_link||null),G((e=>{const t=new Date(e);return`${t.getFullYear()}-${("0"+(t.getMonth()+1)).slice(-2)}-${("0"+t.getDate()).slice(-2)}`})(e.deadline_raw)||"")):v("Order not found or invalid UUID.");y(!1)}):(v("Invalid order UUID."),y(!1))}catch(e){v("Error fetching order data."),y(!1)}})()},[t]);const B=e=>{try{const t="https://firebasestorage.googleapis.com/v0/b/your-app.appspot.com/o/";if(e.startsWith(t)){const a=e.substring(t.length,e.indexOf("?"));return decodeURIComponent(a)}return null}catch(k){return console.error("Error extracting storage path:",k),null}},$=e=>{let{handleAudioUpload:t,handleDeleteAudio:a,audioLink:l}=e;const[o,i]=Object(r.useState)(!1),c=Object(r.useRef)(null),s=Object(r.useRef)([]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,{margin:"20px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px",onClick:o?()=>{c.current&&(c.current.stop(),i(!1))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),a=new MediaRecorder(e);c.current=a,a.ondataavailable=e=>{s.current.push(e.data)},a.onstop=async()=>{const e=new Blob(s.current,{type:"audio/wav"});await t(e);s.current=[]},a.start(),i(!0)}catch(k){console.error("Error accessing microphone:",k),alert("Error accessing microphone")}}},o?"Stop Recording":"Record Audio"),l&&n.a.createElement(u.a,{display:"flex","align-items":"center"},n.a.createElement("audio",{controls:!0},n.a.createElement("source",{src:l,type:"audio/wav"}),"Your browser does not support the audio element."),n.a.createElement(C.a,{category:"md",icon:P.c,size:"24px",color:"#ff0000",margin:"0 0 0 10px",onClick:a,style:{cursor:"pointer"},"aria-label":"Delete Audio"})))},V=o.reduce((e,t)=>e+t.quantity,0);return E?n.a.createElement(d.a,{theme:s},n.a.createElement(w,{pageUrl:"orders-edit"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Edit Order"),n.a.createElement("link",{rel:"shortcut icon",href:"https://live.staticflickr.com/65535/54572815698_9a48e198df_b.jpg",type:"image/x-icon"})),n.a.createElement(p.a,{padding:"90px 0 100px 0","quarkly-title":"Schedule-5"},n.a.createElement(m.c,null,"Loading..."))):k?n.a.createElement(d.a,{theme:s},n.a.createElement(w,{pageUrl:"orders-edit"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Edit Order"),n.a.createElement("link",{rel:"shortcut icon",href:"https://live.staticflickr.com/65535/54572815698_9a48e198df_b.jpg",type:"image/x-icon"})),n.a.createElement(p.a,{padding:"90px 0 100px 0","quarkly-title":"Schedule-5"},n.a.createElement(m.c,null,k))):n.a.createElement(d.a,{theme:s},n.a.createElement(w,{pageUrl:"orders-edit"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Edit Order"),n.a.createElement("link",{rel:"shortcut icon",href:"https://live.staticflickr.com/65535/54572815698_9a48e198df_b.jpg",type:"image/x-icon"})),n.a.createElement(p.a,{padding:"90px 0 100px 0","quarkly-title":"Schedule-5"},n.a.createElement(u.a,{"min-width":"1200px",overflow:"auto",margin:"0 auto",padding:"0 10px"},n.a.createElement(u.a,{display:"flex","align-items":"center","justify-content":"center",position:"relative"},n.a.createElement(C.a,{category:"md",icon:P.a,size:"40px",margin:"16px",padding:"0px 0px 16px 0px",onClick:()=>e.push("/orders"),style:{cursor:"pointer",position:"absolute",left:"0"},"aria-label":"Back to Orders"}),n.a.createElement(m.c,{margin:"0px 0px 20px 0px","text-align":"center",font:"normal 500 56px/1.2 --fontFamily-serifGeorgia",color:"--dark","sm-margin":"0px 0px 30px 0px"},"Edit Order")),n.a.createElement(u.a,{"min-width":"100px","min-height":"100px",padding:"15px 0px 15px 0px"},n.a.createElement(u.a,{display:"flex","align-items":"center",margin:"15px 0px 15px 0px"},n.a.createElement(m.c,{margin:"0"},"Customer Name")),n.a.createElement(g.a,{display:"block",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",value:a.customer_name||"",readOnly:!0}),n.a.createElement(H.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Phone Number"),n.a.createElement(g.a,{display:"block",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",value:a.phone_number||"",readOnly:!0}),n.a.createElement(H.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Progress"),n.a.createElement(W.a,{value:b,onChange:e=>f(e.target.value),background:"white",width:"50%",padding:"5px","border-radius":"7.5px"},n.a.createElement("option",{value:"Pre-press"},"Pre-press"),n.a.createElement("option",{value:"Press"},"Press"),n.a.createElement("option",{value:"Post-press"},"Post-press"),n.a.createElement("option",{value:"Delivered"},"Delivered"),n.a.createElement("option",{value:"Payment Pending"},"Payment Pending"),n.a.createElement("option",{value:"Payment Received"},"Payment Received")),n.a.createElement(H.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(u.a,{display:"flex","align-items":"center","justify-content":"space-between"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Add Pieces"),n.a.createElement(C.a,{category:"md",icon:P.d,size:"32px",margin:"16px 0px 16px 0px",onClick:()=>{c([...o,{type:"Digital Printing",quantity:1,remarks:""}])},style:{cursor:"pointer"},"aria-label":"Add Piece"})),o.length>0&&n.a.createElement(n.a.Fragment,null,o.map((e,t)=>n.a.createElement(u.a,{key:t,display:"flex","align-items":"center",margin:"10px 0"},n.a.createElement(m.c,{width:"5%",textAlign:"center"},t+1),n.a.createElement(W.a,{value:e.type,onChange:e=>((e,t)=>{const a=o.map((a,r)=>r===e?{...a,type:t}:a);c(a)})(t,e.target.value),background:"white",width:"20%",padding:"5px",margin:"0 10px"},n.a.createElement("option",{value:"Digital Printing"},"Digital Printing"),n.a.createElement("option",{value:"Offset Printing"},"Offset Printing"),n.a.createElement("option",{value:"Packaging"},"Packaging"),n.a.createElement("option",{value:"Others"},"Others")),n.a.createElement(g.a,{type:"number",value:e.quantity,onChange:e=>((e,t)=>{const a=o.map((a,r)=>r===e?{...a,quantity:Number(t)}:a);c(a)})(t,e.target.value),width:"20%",min:"1",background:"white",padding:"5px",margin:"0 10px"}),n.a.createElement(g.a,{type:"text",placeholder:"Remarks",value:e.remarks,onChange:e=>((e,t)=>{const a=o.map((a,r)=>r===e?{...a,remarks:t}:a);c(a)})(t,e.target.value),width:"40%",background:"white",padding:"5px",margin:"0 10px"}),n.a.createElement(C.a,{category:"md",icon:P.c,size:"24px",color:"#ff0000",onClick:()=>(e=>{c(o.filter((t,a)=>a!==e))})(t),style:{cursor:"pointer"},"aria-label":"Delete Piece "+(t+1)}))),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Total Number of Items : ",V)),n.a.createElement(H.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Images"),n.a.createElement(K,{handleFile:async e=>{try{const t=await Promise.all(e.map(e=>R(e)));S(e=>[...e,...t])}catch(k){console.error("Error uploading images:",k),alert("Failed to upload images. Please try again.")}}}),j.length>0&&n.a.createElement(u.a,{display:"grid","grid-template-columns":`repeat(${Math.min(j.length,4)}, 225px)`,"grid-auto-rows":"225px","grid-gap":"15px",width:225*Math.min(j.length,4)+15*(Math.min(j.length,4)-1)+"px",overflow:"auto",padding:"15px",border:"1px solid #ccc",margin:"15px 0"},j.map((e,t)=>n.a.createElement(u.a,{key:t,as:"div",position:"relative"},n.a.createElement(u.a,{as:"img",src:e,width:"225px",height:"225px","object-fit":"cover","border-radius":"5px",onClick:()=>(e=>{M(e),A(!0)})(e),style:{cursor:"pointer"},alt:"Order Image "+(t+1)}),n.a.createElement(C.a,{category:"md",icon:P.c,size:"24px",color:"#ff0000",position:"absolute",top:"5px",right:"5px",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this image? This action cannot be undone."))try{const t=j[e],a=B(t);a&&await z(a);const r=j.filter((t,a)=>a!==e);S(r)}catch(k){console.error("Error deleting image:",k),alert("Failed to delete image. Please try again.")}})(t),style:{cursor:"pointer",backgroundColor:"rgba(255,255,255,0.7)",borderRadius:"50%"},"aria-label":"Delete Image "+(t+1)})))),n.a.createElement(H.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Audio"),n.a.createElement($,{handleAudioUpload:async e=>{try{const t=await N(e);return U(t),t}catch(k){return console.error("Error uploading audio:",k),alert("Failed to upload audio. Please try again."),""}},handleDeleteAudio:async()=>{if(window.confirm("Are you sure you want to delete the audio recording? This action cannot be undone."))try{if(D){const e=B(D);e&&await(async e=>{const t=Object(F.c)(),a=Object(F.d)(t,e);await Object(F.a)(a)})(e),U(null)}}catch(k){console.error("Error deleting audio:",k),alert("Failed to delete audio. Please try again.")}},audioLink:D}),n.a.createElement(H.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Deadline"),n.a.createElement(g.a,{type:"date",value:T,onChange:e=>{G(e.target.value)},width:"40%",background:"white",padding:"5px",margin:"0 10px",required:!0}),n.a.createElement(H.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(x.a,{onClick:async()=>{try{const r=e=>{const t=new Date(e),a=t.getDate();return`${["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]} ${a}, ${t.getFullYear()}`},n={...a,pieces:{...a.pieces,details:o,number_of_pieces:V},progress:b,images:j,audio_link:D,deadline_raw:T,deadline_formatted:r(T)};await(async(e,t)=>{const a=Object(O.h)(_,"vamsi/orders/"+e);await Object(O.k)(a,t)})(t,n),alert("Order updated successfully"),e.push("/orders")}catch(r){console.error("Error updating order:",r),alert("Error updating order. Please try again.")}},margin:"40px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px"},"Save Changes"))),L&&n.a.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>{A(!1),M("")}},n.a.createElement("img",{src:I,alt:"Full Size",style:{maxHeight:"90%",maxWidth:"90%"},onClick:e=>e.stopPropagation()}))))},Q=a(186),Z=a.n(Q);const ee=e=>{switch(e){case"Pre-press":return"#ff4d4d";case"Press":return"#ff7518";case"Post-press":return"#ffaa00";case"Delivered":return"#ffd700";case"Payment Pending":return"#c0c000";case"Payment Received":return"#31a931";default:return"#ff0000"}};var te=()=>{var e,t;const a=new URLSearchParams(Object(i.l)().search).get("uuid"),[l,o]=Object(r.useState)(null),[c,x]=Object(r.useState)(!0),[b,f]=Object(r.useState)(null);if(Object(r.useEffect)(()=>{(async()=>{try{a?q(a,e=>{e?o(e):f("Order not found."),x(!1)}):(f("Invalid order UUID."),x(!1))}catch(e){f("Error fetching order data."),x(!1)}})()},[a]),c)return n.a.createElement(d.a,{theme:s},n.a.createElement(w,{pageUrl:"orders-view"}),n.a.createElement(m.c,null,"Loading order details..."));if(b)return n.a.createElement(d.a,{theme:s},n.a.createElement(w,{pageUrl:"orders-view"}),n.a.createElement(m.c,null,b)," ");return n.a.createElement(d.a,{theme:s},n.a.createElement(w,{pageUrl:"orders-view"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"View Order"),n.a.createElement("link",{rel:"shortcut icon",href:"https://live.staticflickr.com/65535/54572815698_9a48e198df_b.jpg",type:"image/x-icon"})),n.a.createElement(p.a,{padding:"90px 0 100px 0","quarkly-title":"View-Order"},n.a.createElement(u.a,{display:"flex","align-items":"center","justify-content":"center",position:"relative"},n.a.createElement(m.c,{margin:"0px 0px 20px 0px","text-align":"center",font:"normal 500 56px/1.2 --fontFamily-serifGeorgia",color:"--dark","sm-margin":"0px 0px 30px 0px"},"Order Details")),n.a.createElement(u.a,{"min-width":"100px","min-height":"100px",padding:"15px 0px 15px 0px"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Customer Name"),n.a.createElement(g.a,{display:"block","placeholder-color":"LightGray",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",value:l.customer_name||"",readOnly:!0}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Phone Number"),n.a.createElement(g.a,{display:"block","placeholder-color":"LightGray",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",value:l.phone_number||"",readOnly:!0})),n.a.createElement(H.a,{"min-height":"10px","min-width":"100%",margin:"15px 0px 15px 0px","border-color":"--color-darkL2",width:"1200px"}),n.a.createElement(u.a,{"min-width":"100px","min-height":"100px",padding:"15px 0px 15px 0px"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Order Creation Date"),n.a.createElement(g.a,{display:"block","placeholder-color":"LightGray",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",value:l.orderCreationDate||"",readOnly:!0}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Order Creation Time"),n.a.createElement(g.a,{display:"block","placeholder-color":"LightGray",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",value:l.orderCreationTime||"",readOnly:!0}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Deadline"),n.a.createElement(g.a,{display:"block","placeholder-color":"LightGray",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",value:l.deadline_raw||"",readOnly:!0})),n.a.createElement(H.a,{"min-height":"10px","min-width":"100%",margin:"15px 0px 15px 0px","border-color":"--color-darkL2",width:"1200px"}),n.a.createElement(u.a,{"min-width":"100px","min-height":"100px",padding:"15px 0px 15px 0px"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Pieces"),null===(e=l.pieces)||void 0===e||null===(t=e.details)||void 0===t?void 0:t.map((e,t)=>n.a.createElement(u.a,{key:t,display:"flex","align-items":"center",margin:"5px 0"},n.a.createElement(m.c,{width:"200px"},e.type),n.a.createElement(m.c,null,"Quantity: ",e.quantity)))),n.a.createElement(H.a,{"min-height":"10px","min-width":"100%",margin:"15px 0px 15px 0px","border-color":"--color-darkL2",width:"1200px"}),n.a.createElement(u.a,{"min-width":"100px","min-height":"100px",padding:"15px 0px 15px 0px"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Progress"),n.a.createElement(Z.a,{completed:{Pending:0,"In Progress":50,Completed:100}[l.progress]||0,bgColor:ee(l.progress),labelAlignment:"center",labelColor:"#ffffff",width:"50%"}))))};var ae=()=>{const[e,t]=Object(r.useState)(""),[a,l]=Object(r.useState)(""),[o,i]=Object(r.useState)("manager");return n.a.createElement(d.a,{theme:s},n.a.createElement(w,{pageUrl:"sudo-add-users"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Add New User"),n.a.createElement("link",{rel:"shortcut icon",href:"https://live.staticflickr.com/65535/54572815698_9a48e198df_b.jpg",type:"image/x-icon"})),n.a.createElement(B,{role:sessionStorage.getItem("role"),current:"Add Users"}),n.a.createElement(p.a,{padding:"90px 0 100px 0","quarkly-title":"Add-User"},n.a.createElement(u.a,{display:"flex","align-items":"center","justify-content":"center",position:"relative"},n.a.createElement(m.c,{margin:"0px 0px 20px 0px","text-align":"center",font:"normal 500 56px/1.2 --fontFamily-serifGeorgia",color:"--dark","sm-margin":"0px 0px 30px 0px"},"Add New User")),n.a.createElement(u.a,{"min-width":"100px","min-height":"100px",padding:"15px 0px 15px 0px"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Email"),n.a.createElement(g.a,{display:"block","placeholder-color":"LightGray",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",required:!0,value:e,onChange:e=>t(e.target.value)}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Password"),n.a.createElement(g.a,{type:"password",display:"block","placeholder-color":"LightGray",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",required:!0,value:a,onChange:e=>l(e.target.value)}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Role"),n.a.createElement(W.a,{value:o,onChange:e=>i(e.target.value),background:"white",width:"50%",padding:"5px","border-radius":"7.5px"},n.a.createElement("option",{value:"manager"},"Manager"),n.a.createElement("option",{value:"sudo"},"Sudo")),n.a.createElement("br",null),n.a.createElement(x.a,{onClick:r=>{r.preventDefault(),e&&a?((async(e,t,a)=>{const r=Object(O.c)(),n=Object(O.h)(r,"vamsi/users"),l=Object(O.f)(n);await Object(O.j)(l,{email:e,password:t,role:a}),alert("User added successfully")})(e,a,o),t(""),l(""),i("manager")):alert("Please fill in both email and password")},margin:"40px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px"},"Add User"))))},re=a(181),ne=()=>n.a.createElement(d.a,{theme:s},n.a.createElement(w,{pageUrl:"404"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Error 404"),n.a.createElement("link",{rel:"shortcut icon",href:"https://live.staticflickr.com/65535/54572815698_9a48e198df_b.jpg",type:"image/x-icon"})),n.a.createElement(p.a,{padding:"88px 0 88px 0","min-height":"100vh","quarkly-title":"404-1"},n.a.createElement(k.a,{slot:"SectionContent","max-width":"1220px","justify-content":"center"}),n.a.createElement(u.a,{"align-items":"center",display:"flex","justify-content":"center","flex-direction":"column"},n.a.createElement(m.c,{margin:"0px 0px 0px 0px",font:"--headline3",color:"--primary"},"404"),n.a.createElement(m.c,{color:"--dark",margin:"8px 0px 16px 0px","sm-font":'normal 700 42px/1.2 "Source Sans Pro", sans-serif',font:"--headline1","letter-spacing":"-0.025em"},"Page not found"),n.a.createElement(m.c,{"lg-width":"80%",font:"--lead",color:"--dark",margin:"0px 0px 40px 0px","text-align":"center"},"Sorry, we couldn\u2019t find the page you\u2019re looking for."),n.a.createElement(re.a,{font:"--lead",padding:"12px 24px 12px 24px",background:"--color-primary","border-radius":"8px",href:"/","text-decoration-line":"initial",color:"--light",transition:"--opacityOut","hover-opacity":"0.7"},"Go back to home"))),n.a.createElement(v.a,null,n.a.createElement("style",{place:"endOfHead",rawKey:"66f6d1359710450018a331b3"},":root {\n  box-sizing: border-box;\n}\n\n* {\n  box-sizing: inherit;\n}"))),le=a(187);a(354),a(355);var oe=()=>{const[e,t]=Object(r.useState)([]),[a,l]=Object(r.useState)(new Date),[o,i]=Object(r.useState)(null),c=e=>`${e.getFullYear()}-${("0"+(e.getMonth()+1)).slice(-2)}-${("0"+e.getDate()).slice(-2)}`,g=e=>{switch(e){case"Pre-press":return"#ff4d4d";case"Press":return"#ff7518";case"Post-press":return"#ffaa00";case"Delivered":return"#ffd700";case"Payment Pending":return"#c0c000";case"Payment Received":return"#31a931";default:return"#ff0000"}},x=async e=>{const a=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0),n=[];for(let t=new Date(a);t<=r;t.setDate(t.getDate()+1))n.push(c(new Date(t)));const l=[];for(const t of n){const e=await T(t);e.length>0&&l.push(...e)}t(l)};Object(r.useEffect)(()=>{x(a)},[a]);const b=t=>{const a=c(t);return e.filter(e=>e.deadline_raw===a)};return n.a.createElement(d.a,{theme:s},n.a.createElement(h.a,null,n.a.createElement("title",null,"Calendar"),n.a.createElement("link",{rel:"shortcut icon",href:"https://live.staticflickr.com/65535/54572815698_9a48e198df_b.jpg",type:"image/x-icon"})),n.a.createElement(B,{role:sessionStorage.getItem("role"),current:"Calendar"}),n.a.createElement(p.a,{padding:"20px 0 20px 0"},n.a.createElement(m.c,{font:"normal 500 48px/1.2 --fontFamily-serifGeorgia","text-align":"center"},"Calendar"),n.a.createElement(u.a,{display:"flex",flexDirection:"column",alignItems:"center"},n.a.createElement(u.a,{display:"flex",justifyContent:"center",width:"100%"},n.a.createElement(le.a,{onChange:e=>{l(e);const t=b(e).filter(e=>"Payment Received"!==e.progress);if(t.length>0){const a=t.reduce((e,t)=>e+t.pieces.number_of_pieces,0);i(`You have ${t.length} pending order(s) with a total of ${a} piece(s) on ${e.toDateString()}`)}else i("No pending orders on this day")},value:a,tileContent:e=>{let{date:t,view:a}=e;if("month"===a){if(b(t).some(e=>"Payment Received"!==e.progress))return n.a.createElement(u.a,{width:"8px",height:"8px",borderRadius:"50%",background:"red",margin:"0 auto",marginTop:"2px"})}return null},onActiveStartDateChange:e=>{let{activeStartDate:t}=e;return x(t)}})))),n.a.createElement(p.a,{padding:"20px 0 0px 0"},n.a.createElement(u.a,{display:"flex",flexDirection:"column",alignItems:"center"},b(a).length>0&&n.a.createElement(u.a,{marginTop:"30px",width:"100%"},n.a.createElement(u.a,{as:"table",width:"100%",borderCollapse:"collapse",marginTop:"30px"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{style:{padding:"10px",textAlign:"left"}},"Customer Name"),n.a.createElement("th",{style:{padding:"10px",textAlign:"left"}},"Items"),n.a.createElement("th",{style:{padding:"10px",textAlign:"left"}},"Created On"),n.a.createElement("th",{style:{padding:"10px",textAlign:"left"}},"Progress"))),n.a.createElement("tbody",null,b(a).map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",{style:{padding:"10px",textAlign:"left"}},e.customer_name),n.a.createElement("td",{style:{padding:"10px",textAlign:"left"}},e.pieces.number_of_pieces),n.a.createElement("td",{style:{padding:"10px",textAlign:"left"}},e.orderCreationDate),n.a.createElement("td",{style:{padding:"10px",textAlign:"left",color:g(e.progress)}},e.progress))))))),o&&n.a.createElement(u.a,{background:"--color-lightD2",padding:"10px",borderRadius:"5px",textAlign:"center",marginTop:"20px",onClick:()=>i(null),cursor:"pointer"},o)))};var ie=()=>{const e=Object(i.k)(),[t,a]=Object(r.useState)(""),[l,o]=Object(r.useState)("+91"),[c,b]=Object(r.useState)(""),[f,E]=Object(r.useState)([]),y=e=>{try{const t="https://firebasestorage.googleapis.com/v0/b/your-app.appspot.com/o/";if(e.startsWith(t)){const a=e.substring(t.length,e.indexOf("?"));return decodeURIComponent(a)}return null}catch(t){return console.error("Error extracting storage path:",t),null}},k=e=>{let{handleFile:t}=e;const a=Object(r.useRef)(null);return n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,{className:"button-upload",onClick:()=>{a.current.click()},margin:"20px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px"},"Upload Images"),n.a.createElement("input",{type:"file",onChange:e=>{const a=Array.from(e.target.files);t(a)},ref:a,style:{display:"none"},multiple:!0,accept:"image/*"}))};return n.a.createElement(d.a,{theme:s},n.a.createElement(w,{pageUrl:"add-customer"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Add New Customer"),n.a.createElement("link",{rel:"shortcut icon",href:"https://live.staticflickr.com/65535/54572815698_9a48e198df_b.jpg",type:"image/x-icon"})),n.a.createElement(B,null),n.a.createElement(p.a,{padding:"90px 0 100px 0","quarkly-title":"Add-Customer"},n.a.createElement(u.a,{display:"flex","align-items":"center","justify-content":"center",position:"relative"},n.a.createElement(C.a,{category:"md",icon:P.a,size:"40px",margin:"16px",padding:"0px 0px 16px 0px",onClick:()=>e.push("/customers/view"),style:{cursor:"pointer",position:"absolute",left:"0"},"aria-label":"Back to Orders"}),n.a.createElement(m.c,{margin:"0px 0px 20px 0px","text-align":"center",font:"normal 500 56px/1.2 --fontFamily-serifGeorgia",color:"--dark","sm-margin":"0px 0px 30px 0px"},"Add New Customer")),n.a.createElement(u.a,{"min-width":"100px","min-height":"100px",padding:"15px 0px 15px 0px"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Customer Name"),n.a.createElement(g.a,{display:"block","placeholder-color":"LightGray",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",required:!0,value:t,onChange:e=>a(e.target.value),"aria-label":"Customer Name"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Phone Number"),n.a.createElement(u.a,{"min-width":"100px",display:"flex","align-items":"center",padding:"15px 0px 15px 0px"},n.a.createElement(g.a,{display:"inline-block",background:"white",value:l,"border-color":"--color-darkL2",width:"5%",padding:"6px 8px","border-radius":"7.5px",margin:"0px 4px 0px 0px",required:!0,onChange:e=>o(e.target.value),"aria-label":"Country Code"}),n.a.createElement(g.a,{display:"inline-block",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",required:!0,value:c,onChange:e=>b(e.target.value),"aria-label":"Phone Number"})),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Measurements"),n.a.createElement(k,{handleFile:async e=>{try{const t=await Promise.all(e.map(e=>R(e)));E(e=>[...e,...t])}catch(t){console.error("Error uploading files:",t),alert("Failed to upload images. Please try again.")}}}),f.length>0&&n.a.createElement(u.a,{display:"grid","grid-template-columns":`repeat(${Math.min(f.length,4)}, 225px)`,"grid-auto-rows":"225px","grid-gap":"15px",width:225*Math.min(f.length,4)+15*(Math.min(f.length,4)-1)+"px",overflow:"auto",padding:"15px",border:"1px solid #ccc",margin:"15px 0"},f.map((e,t)=>n.a.createElement(u.a,{key:t,as:"div",position:"relative"},n.a.createElement(u.a,{as:"img",src:e,width:"225px",height:"225px","object-fit":"cover","border-radius":"5px",onClick:()=>window.open(e,"_blank"),style:{cursor:"pointer"},alt:"Measurement Image "+(t+1)}),n.a.createElement(C.a,{category:"md",icon:P.c,size:"24px",color:"#ff0000",position:"absolute",top:"5px",right:"5px",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this measurement image? This action cannot be undone."))try{const t=f[e],a=y(t);a&&await z(a);const r=f.filter((t,a)=>a!==e);E(r)}catch(t){console.error("Error deleting image:",t),alert("Failed to delete image. Please try again.")}})(t),style:{cursor:"pointer",backgroundColor:"rgba(255,255,255,0.7)",borderRadius:"50%"},"aria-label":"Delete Measurement Image "+(t+1)})))),n.a.createElement(H.a,{"min-height":"10px","min-width":"100%",margin:"15px 0px 15px 0px","border-color":"--color-darkL2",width:"1200px"}),n.a.createElement(x.a,{onClick:async r=>{if(r.preventDefault(),!t||!c)return void alert("Please fill in customer name and phone number");try{await M((()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let a=0;a<7;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t})(),t,l,c,f),a(""),b(""),o("+91"),E([]),alert("Customer added successfully!"),e.push("/customers/view")}catch(n){console.error("Error adding customer:",n),alert("Failed to add customer. Please try again."),e.push("/customers/view")}},margin:"40px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px","aria-label":"Add Customer"},"Add Customer"))))};const ce=async e=>{try{await(async e=>{const t=Object(O.h)(_,"vamsi/customers/"+e);await Object(O.i)(t)})(e),window.location.reload()}catch(t){console.error("Error deleting customer: ",t),alert("Failed to delete the customer. Please try again.")}};var se=()=>{const[e,t]=Object(r.useState)([]),[a,l]=Object(r.useState)(""),o=Object(i.k)();Object(r.useEffect)(()=>{(e=>{const t=Object(O.c)(),a=Object(O.h)(t,"vamsi/customers");Object(O.d)(a,t=>{const a=t.val();if(a){const t=Object.keys(a).map(e=>({uuid:e,...a[e]}));e(t)}else e([])})})(t)},[]);const c=e=>String(e).replace(/\D/g,""),x=e.filter(e=>{try{if(!e)return!1;const t=String(e.name||"").toLowerCase().trim(),r=String(a||"").toLowerCase().trim(),n=t.includes(r),l=String(e.phone||e.phone_number||""),o=c(l),i=c(a);let s=!1;return""!==i&&(s=o.includes(i)),n||s}catch(t){return console.error("Error filtering customers:",t),!1}});return n.a.createElement(d.a,{theme:s},n.a.createElement(w,{pageUrl:"customers-list"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Customers"),n.a.createElement("link",{rel:"shortcut icon",href:"https://live.staticflickr.com/65535/54572815698_9a48e198df_b.jpg",type:"image/x-icon"})),n.a.createElement(B,{role:sessionStorage.getItem("role"),current:"View Customers"}),n.a.createElement(p.a,{padding:"90px 0 100px 0","quarkly-title":"Customers-List"},n.a.createElement(m.c,{margin:"0px 0px 20px 0px","text-align":"center",font:"normal 500 56px/1.2 --fontFamily-serifGeorgia",color:"--dark","sm-margin":"0px 0px 30px 0px"},"Customers"),n.a.createElement(C.a,{category:"md",icon:P.e,onClick:()=>{o.push("/customers/add")},size:"32px","align-self":"flex-end",margin:"16px 0px 16px 0px",style:{cursor:"pointer"}}),n.a.createElement(u.a,{display:"flex","justify-content":"center",margin:"20px 0"},n.a.createElement(g.a,{width:"50%",placeholder:"Search by name or phone number",value:a,onChange:e=>l(e.target.value),padding:"10px","border-radius":"7.5px",border:"1px solid #ccc"})),n.a.createElement(u.a,{"min-width":"1200px",overflow:"auto",margin:"0 auto",padding:"0 10px"},n.a.createElement(u.a,{display:"flex","align-items":"center",padding:"10px","border-width":"0 0 2px 0","border-style":"solid","border-color":"#d1d7de",margin:"0px 0px 10px 0px"},n.a.createElement(m.c,{flex:"1","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(S.a,null,"Name")),n.a.createElement(m.c,{flex:"1","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(S.a,null,"Phone Number")),n.a.createElement(m.c,{width:"100px","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(S.a,null,"Edit")),n.a.createElement(m.c,{width:"100px","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(S.a,null,"Delete"))),x.length>0?n.a.createElement(u.a,null,x.map(e=>n.a.createElement(u.a,{key:e.uuid,display:"flex","align-items":"center",padding:"10px","border-width":"0 0 1px 0","border-style":"solid","border-color":"#d1d7de",background:"#ffffff",margin:"0px 0px 10px 0px"},n.a.createElement(m.c,{flex:"1","text-align":"center",font:"normal 500 24px/1.2 --fontFamily-serifGeorgia",color:"--dark"},e.name||e.customer_name||"N/A"),n.a.createElement(m.c,{flex:"1","text-align":"center",font:"normal 400 20px/1.5 --fontFamily-sans",color:"--dark"},e.countryCode||"N/A"," ",e.phone||e.phone_number||"N/A"),n.a.createElement(u.a,{width:"100px",display:"flex","justify-content":"center","align-items":"center",padding:"0 10px"},n.a.createElement(C.a,{category:"md",icon:P.b,size:"32px",onClick:()=>{return t=e.uuid,void o.push("/customers/edit?uuid="+t);var t},style:{cursor:"pointer"}})),n.a.createElement(u.a,{width:"100px",display:"flex","justify-content":"center","align-items":"center",padding:"0 10px"},n.a.createElement(C.a,{category:"md",icon:P.c,size:"32px",onClick:()=>{return t=e.uuid,void(window.confirm("Are you sure you want to delete this customer?")&&ce(t));var t},style:{cursor:"pointer"}}))))):n.a.createElement(m.c,{"text-align":"center"},"No customers available"))))};const de=e=>{let{handleFile:t}=e;const a=Object(r.useRef)(null);return n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,{onClick:()=>{a.current.click()},margin:"40px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px"},"Upload Images"),n.a.createElement("input",{type:"file",onChange:e=>{const a=Array.from(e.target.files);t(a)},ref:a,style:{display:"none"},multiple:!0,accept:"image/*"}))};var pe=()=>{const e=Object(i.k)(),t=new URLSearchParams(Object(i.l)().search).get("uuid"),[a,l]=Object(r.useState)(null),[o,c]=Object(r.useState)(!0),[b,f]=Object(r.useState)(null),[E,y]=Object(r.useState)([]),[k,v]=Object(r.useState)(!1),[j,S]=Object(r.useState)("");Object(r.useEffect)(()=>{(async()=>{try{t?((e,t)=>{console.log(e);const a=Object(O.h)(_,"vamsi/customers/"+e);Object(O.d)(a,e=>{const a=e.val();t(a)})})(t,e=>{e?(l(e),y(e.measurements||[])):f("Customer not found or invalid UUID."),c(!1)}):(f("Invalid customer UUID."),c(!1))}catch(e){f("Error fetching customer data."),c(!1)}})()},[t]);const D=e=>{try{const t="https://firebasestorage.googleapis.com/v0/b/your-app.appspot.com/o/";if(e.startsWith(t)){const a=e.substring(t.length,e.indexOf("?"));return decodeURIComponent(a)}return null}catch(b){return console.error("Error extracting storage path:",b),null}};return o?n.a.createElement(d.a,{theme:s},n.a.createElement(w,{pageUrl:"edit-customer"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Edit Customer"),n.a.createElement("link",{rel:"shortcut icon",href:"https://live.staticflickr.com/65535/54572815698_9a48e198df_b.jpg",type:"image/x-icon"})),n.a.createElement(p.a,{padding:"90px 0 100px 0","quarkly-title":"Edit-Customer"},n.a.createElement(m.c,null,"Loading..."))):b?n.a.createElement(d.a,{theme:s},n.a.createElement(w,{pageUrl:"edit-customer"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Edit Customer"),n.a.createElement("link",{rel:"shortcut icon",href:"https://live.staticflickr.com/65535/54572815698_9a48e198df_b.jpg",type:"image/x-icon"})),n.a.createElement(p.a,{padding:"90px 0 100px 0","quarkly-title":"Edit-Customer"},n.a.createElement(m.c,null,b))):n.a.createElement(d.a,{theme:s},n.a.createElement(w,{pageUrl:"edit-customer"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Edit Customer"),n.a.createElement("link",{rel:"shortcut icon",href:"https://live.staticflickr.com/65535/54572815698_9a48e198df_b.jpg",type:"image/x-icon"})),n.a.createElement(p.a,{padding:"90px 0 100px 0","quarkly-title":"Edit-Customer"},n.a.createElement(u.a,{minWidth:"1200px",overflow:"auto",margin:"0 auto",padding:"0 10px"},n.a.createElement(u.a,{display:"flex","align-items":"center","justify-content":"center",position:"relative"},n.a.createElement(C.a,{category:"md",icon:P.a,size:"40px",margin:"16px",padding:"0px 0px 16px 0px",onClick:()=>e.push("/customers/view"),style:{cursor:"pointer",position:"absolute",left:"0"},"aria-label":"Back to Orders"}),n.a.createElement(m.c,{margin:"0px 0px 20px 0px","text-align":"center",font:"normal 500 56px/1.2 --fontFamily-serifGeorgia",color:"--dark","sm-margin":"0px 0px 30px 0px"},"Edit Customer")),n.a.createElement(u.a,{minWidth:"100px",minHeight:"100px",padding:"15px 0px 15px 0px"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Name"),n.a.createElement(g.a,{display:"block",background:"white",borderColor:"--color-darkL2",borderRadius:"7.5px",width:"50%",value:a.name||"","aria-label":"Customer Name"}),n.a.createElement(H.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Phone Number"),n.a.createElement(g.a,{display:"block",background:"white",borderColor:"--color-darkL2",borderRadius:"7.5px",width:"50%",value:a.countryCode+" "+a.phone||"","aria-label":"Phone Number"}),n.a.createElement(H.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Images"),n.a.createElement(de,{handleFile:async e=>{try{const t=await Promise.all(e.map(e=>R(e)));y(e=>[...e,...t])}catch(b){console.error("Error uploading images:",b),alert("Failed to upload images. Please try again.")}}}),E.length>0&&n.a.createElement(u.a,{display:"grid","grid-template-columns":`repeat(${Math.min(E.length,4)}, 225px)`,"grid-auto-rows":"225px","grid-gap":"15px",width:225*Math.min(E.length,4)+15*(Math.min(E.length,4)-1)+"px",overflow:"auto",padding:"15px",border:"1px solid #ccc",margin:"15px 0"},E.map((e,t)=>n.a.createElement(u.a,{key:t,as:"div",position:"relative"},n.a.createElement(u.a,{as:"img",src:e,width:"225px",height:"225px","object-fit":"cover","border-radius":"5px",onClick:()=>(e=>{S(e),v(!0)})(e),style:{cursor:"pointer"},alt:"Order Image "+(t+1)}),n.a.createElement(C.a,{category:"md",icon:P.c,size:"24px",color:"#ff0000",position:"absolute",top:"5px",right:"5px",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this image? This action cannot be undone."))try{const t=E[e],a=D(t);a&&await z(a);const r=E.filter((t,a)=>a!==e);y(r)}catch(b){console.error("Error deleting image:",b),alert("Failed to delete image. Please try again.")}})(t),style:{cursor:"pointer",backgroundColor:"rgba(255,255,255,0.7)",borderRadius:"50%"},"aria-label":"Delete Image "+(t+1)})))),n.a.createElement(H.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(x.a,{onClick:async()=>{try{const r={...a,measurements:E};console.log({updatedCustomerData:r}),await(async(e,t)=>{console.log({uuid:e},{updatedData:t});const a=Object(O.h)(_,"vamsi/customers/"+e);await Object(O.k)(a,t)})(t,r),alert("Customer updated successfully"),e.push("/customers/view")}catch(r){console.error("Error updating customer:",r),alert("Error updating customer. Please try again.")}},margin:"40px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px"},"Save Changes"))),k&&n.a.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>{v(!1),S("")}},n.a.createElement("img",{src:j,alt:"Full Size",style:{maxHeight:"90%",maxWidth:"90%"},onClick:e=>e.stopPropagation()}))))};const me=e=>{let{component:t,...a}=e;const r=sessionStorage.getItem("role");return n.a.createElement(i.d,Object.assign({},a,{render:e=>r?n.a.createElement(t,e):n.a.createElement(i.c,{to:"/login"})}))},ue=e=>{let{component:t,...a}=e;const r=sessionStorage.getItem("role");return n.a.createElement(i.d,Object.assign({},a,{render:e=>"sudo"===r?n.a.createElement(t,e):n.a.createElement(i.c,{to:"/login"})}))};function ge(){return n.a.createElement(c.HashRouter,null,n.a.createElement(i.g,null,n.a.createElement(i.d,{exact:!0,path:"/login",component:j}),n.a.createElement(i.d,{exact:!0,path:"/orders/view",component:te})," ",n.a.createElement(me,{exact:!0,path:"/orders",component:V}),n.a.createElement(me,{exact:!0,path:"/orders/add",component:J}),n.a.createElement(me,{exact:!0,path:"/orders/edit",component:X}),n.a.createElement(me,{exact:!0,path:"/calendar",component:oe}),n.a.createElement(me,{exact:!0,path:"/customers/view",component:se}),n.a.createElement(me,{exact:!0,path:"/customers/add",component:ie}),n.a.createElement(me,{exact:!0,path:"/customers/edit",component:pe}),n.a.createElement(ue,{exact:!0,path:"/sudo/users/add",component:ae}),n.a.createElement(i.d,{exact:!0,path:"/",component:j}),n.a.createElement(i.d,{component:ne})))}window.QAPI={pages:{root:{id:"root",pageUrl:"root",name:"root",children:["66f6d1359710450018a331ba","66f6d1359710450018a331bd","670bf015e5d277001898945e","670bf0609335410018c70fb2"]},"66f6d1359710450018a331ba":{id:"66f6d1359710450018a331ba",name:"404",pageUrl:"404"},"66f6d1359710450018a331bd":{id:"66f6d1359710450018a331bd",name:"Login",pageUrl:"index"},"670bf015e5d277001898945e":{id:"670bf015e5d277001898945e",pageUrl:"login",name:"Orders-Managers"},"670bf0609335410018c70fb2":{id:"670bf0609335410018c70fb2",pageUrl:"orders-customers",name:"Orders-Add"}},mode:"production",projectType:"create-react-app",site:{styles:{},seo:{}}},o.a.render(n.a.createElement(ge,null),document.getElementById("root"))}},[[189,1,2]]]);
//# sourceMappingURL=main.f00cc2d0.chunk.js.map